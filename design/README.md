
#### 除了单例，观察者设计模式以外，还知道哪些设计模式？分别介绍一下

http://yoferzhang.com/post/20171123CocoaDesignPatterns/

* 1、对象创建：原型、工厂、抽象工厂、单例、生成器
      工厂方法：定义创建对象的接口，让子类决定实例化哪一个类，工厂方法使得一个类的实例化延迟到子类。
      抽象工厂：提供一个创建一系列相关或相互依赖对象的接口，而无需指定他们具体的类。
      单例：保证类只有一个实例，并提供一个访问它的全局访问点。
* 2、接口适配：适配器、桥接、外观
      适配器：将一个类的接口转换为客户端需要的另外一个接口，适配器模式使得原本接口不兼容而不能工作的那些类可以一起工作。
      桥接：将抽象部分和它的实现部分分离，使得它们可以独立变化。
      外观：为系统中的一组接口提供一个统一的接口，外观定义一个高层接口，让子系统更加易于使用。
* 3、对象解耦：观察者、中介者
      中介者：用一个对象封装一系列对象的交互方式，中介者使各对象不需要显示的互相引用，从而使其耦合松散，而可以独立改变他们之间的交互。
      观察者：定义对象的一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖他的对象都得到通知并被自动更新。
* 4、对象抽象：组合、迭代器
* 5、行为扩展：访问者、装饰者、责任链
* 6、算法封装：模板、策略、命令
* 7、性能和对象访问：代理

#### 最喜欢哪个设计模式？为什么?

抽象工厂，外观，观察者，装饰者，代理。

装饰器。代理和分类，在实际的开发过程中，可以利用分类和delegate进行对象解耦。

#### iOS SDK 里面有哪些设计模式的实践？

NSNumber的抽象工厂，类簇。
适配器，协议，例如UITableViewDelegate
命令模式，Target-Action，NSInvocation----
观察者，KVO、NSNotification
单例，UIApplication，NSFileManager等等。



#### 设计模式是为了解决什么问题的？

让程序更加易扩展。



#### 设计模式的成员构成以及工作机制是什么?

...

#### 设计模式的优缺点是什么？

...

#### App 应用签名

数字签名如下：

![](http://blog.cnbang.net/wp-content/uploads/2017/03/sign0.png)

App 双重签名：

![](http://blog.cnbang.net/wp-content/uploads/2017/03/sign2.png)
![](http://blog.cnbang.net/wp-content/uploads/2017/03/sign4.png)

1、Mac 自己生产 公钥M 和 私钥M。
2、苹果的 公钥A在 iOS 设备上，私钥A 在后台。
3、把 Mac的 公钥M 上传给苹果后台，苹果后台用 私钥A 去签名公钥M，得到一份数据包含公钥和数字签名，这份数据也叫证书（公钥M+摘要）。
4、生成描述文件 Provisioning Profile 内部有证书 + Entitlements（设备列表+APPID+权限）。
5、App进行打包时，通过 私钥M 对App进行签名，把证书(公钥M+数字摘要)同时打包进App。
6、在安装时，iOS系统得到证书，用系统内置的 公钥A 去验证证书，获取到公钥L，让后使用公钥L去验证App的签名，验证设备ID是否在列表上。

几个概念：

p12：私钥L
csr：公钥L
证书：公钥L+数字摘要
entitlements：权限+设备ID+AppID
Provisioning Profile：证书 + entitlements。

#### App 应用重签名

https://juejin.im/post/5c460908f265da6167209b87